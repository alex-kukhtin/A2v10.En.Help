<div>
	<!--title:Working with Messages-->
	<div class="title">
		<h1>
			Working with Messages
		</h1>
	</div>


	<p>
		In order to separate the logic of building a message and the mechanism for sending it,
		the template mechanism is used. A template represents a set of rules used to construct
		the body of a message, its subject, addressees, copies, etc.
	</p>

	<p>A template can include several messages. They are accessed using a simple text key.</p>

	<p>
		When building a message, a data model, additional parameters that are passed by the 
		sender and environment variables can be used.</p>

	<p>
		When the system needs to send a message, it simply indicates on what template it needs
		to be built and passes the required parameters such as template name, message key, ID 
		for the data model, and arbitrary parameters.
	</p>

	<p>
		The sending subsystem selects the required message, loads the data model (if necessary), forms the
		message text directly using the <a href="bindings">bindings</a> and sends it to the addressee.
	</p>
	<h3>Application</h3>
	<p>You can send a message in the following ways:</p>
	<ul class="std">
		<li>
			From a business process using the <a class="code-link" href="/workflow/activities/request">Request</a>
			or <a href="/workflow/activities/sendmessage" class="code-link">SendMessage</a> activities.
		</li>
		<li>Directly by a server command like <a href="/app/sendmessagecommand">sendMessage</a></li>
	</ul>

	<h3>Setting up</h3>
	<ul class="std">
		<li><a href="/messaging/settings">Setting up the configuration</a>.</li>
	</ul>

	<h3>Objects for working with messages</h3>
	<ul class="std">
		<li><a href="/messaging/emailmessage">EmailMessage</a> - email message.</li>
		<li><a href="/messaging/messageaddress">MessageAddress</a> - message address.</li>
		<li><a href="/messaging/messageattachment">MessageAttachment</a> - attachment.</li>
		<li><a href="/messaging/messagereport">MessageReport</a> - report.</li>
		<li><a href="/messaging/messagereportmodel">MessageReportModel</a> - data model for the report.</li>
		<li><a href="/messaging/messagereportparam">MessageReportParam</a> - data model parameter for the report.</li>
		<li><a href="/messaging/template">Template</a> - template.</li>
		<li><a href="/messaging/templatedmessage">TemplatedMessage</a> - the base class for working with messages.</li>
	</ul>
</div>